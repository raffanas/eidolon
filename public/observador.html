<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Observador</title>
  
<link rel="stylesheet" href="/styles.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">

  
</head>
<body>
<div style="width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center;">
  
> Quem observa o observador?

<div class="gate">
  <input id="answer" autocomplete="off" spellcheck="false" placeholder="resposta" />
  <button id="go">→</button>
  <p id="hint" class="hint"></p>
</div>

<script>
(() => {
  const NEXT = "/final";
  const expected = ["voce","você"];
  const normalize = (s) => (s||"")
    .toLowerCase()
    .normalize("NFD").replace(/[\u0300-\u036f]/g,"")
    .trim();

  console.log("voce está quase lá");

  const input = document.getElementById("answer");
  const hint  = document.getElementById("hint");
  const go    = document.getElementById("go");

  const ok = () => {
    sessionStorage.setItem("eidolon_step", "10");
    window.location.assign(NEXT);
  };

  const fail = () => hint.textContent = "Você já viu. Falta aceitar.";

  const check = () => expected.includes(normalize(input.value)) ? ok() : fail();

  go.addEventListener("click", check);
  input.addEventListener("keydown", (e)=> { if(e.key === "Enter") check(); });
})();
</script>


</div>
</body>
</html>